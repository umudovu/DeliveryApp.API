@model HeaderVM

@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<style>
    #serachdata{
        z-index:11;
        background-color:white;
        position:absolute;
        left:50px;
        top:110%;
        padding:5px 5px;

    }
</style>

<header class="section-header">
<section class="header-main shadow-sm bg-primary-style2">
<div class="container">
<div class="row align-items-center">
<div class="col-1">
<a asp-controller="home" asp-action="index" class="brand-wrap mb-0">
<img alt="#" class="img-fluid" src="~/img/logo_web.png">
</a>

</div>
<div class="col-3 d-flex align-items-center m-none">
<div class="dropdown mr-3">
<a class="btn-border-1 text-white dropdown-toggle d-flex align-items-center py-3" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
<div><i class="feather-map-pin mr-2 primary-dark rounded-pill p-2 icofont-size"></i></div>
<div>
<p class="text-white mb-0 small">Select Location</p>

</div>
</a>
<div style="width:380px; padding:3px" class="dropdown-menu p-0 drop-loc" aria-labelledby="navbarDropdown">
<div class="osahan-country" >
<div class="search_location bg-primary rounded p-3 text-right">
<div class="input-group rounded shadow-sm overflow-hidden">
<div class="input-group-prepend">
<button class="border-0 btn btn-outline-secondary text-dark bg-white btn-block"><i class="feather-search"></i></button>
</div>
<input type="text" id="gmap" class="shadow-none border-0 form-control" placeholder="Enter Your Location">
</div>
</div>
<div id="gmaparea" class="p-3 border-bottom d-none">

</div>
</div>
</div>
</div>
</div>

<div class="col-4 d-flex align-items-center justify-content-center" style="position:relative">
     <div class="input-group rounded shadow-sm overflow-hidden mx-3 w-75 ">
<div class="input-group-prepend ">
<button class="border-0 btn btn-outline-secondary text-dark bg-white btn-block "><i class="feather-search"></i></button>
</div>
<input type="text" class="shadow-none border-0 form-control " placeholder="Search" id="headerSearch">
</div>

@*<div id="serachdata">
    <ul>
        <li class="d-flex px-3">
                        <a asp-controller="product" asp-action="index" asp-rout-id="">
                            dsadsadsdsdfdsfsfsfs
                        </a>
                  </li>
    </ul>
</div>*@
</div>



<div class="col-4">
<div class="d-flex align-items-center justify-content-end pr-5">

 
@*<a href="search.html" class="widget-header mr-4 text-white">
<div class="icon d-flex align-items-center">
<i class="feather-search h6 mr-2 mb-0"></i> <span>Search</span>
</div>
</a>*@

<!-- <a href="offers.html" class="golden-btn widget-header mr-4 text-dark btn m-none">
<div class="icon d-flex align-items-center">
<i class="feather-disc h6 mr-2 mb-0"></i> <span>Offers</span>
</div>
</a> -->


                        @if (!User.Identity.IsAuthenticated)
                        {
                            <a asp-controller="auth" asp-action="login" class="widget-header mr-4 text-white m-none">
                                <div class="icon d-flex align-items-center">
                                      <i class="feather-user h6 mr-2 mb-0"></i> <span>Sign in</span>
                                </div>
                            </a>
                        }
                        else
                        {
                            <div class="dropdown mr-4 m-none">
                            <a href="#" class="dropdown-toggle text-white py-3 d-block" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <img alt="#" style="height:30px;" src="@Model.CustomerProfile.ImageUrl" class="img-fluid rounded-circle header-user mr-2 header-user"> Hi @Model.CustomerProfile.Name
                            </a>
                            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" asp-controller="auth" asp-action="profile">My account</a>
                            <a class="dropdown-item" asp-controller="info" asp-action="support">Delivery support</a>
                            <a class="dropdown-item" asp-controller="info" asp-action="contact">Contant us</a>
                            @*<a class="dropdown-item" href="terms.html">Term of use</a>
                            <a class="dropdown-item" href="privacy.html">Privacy policy</a>*@
                            <a class="dropdown-item"  asp-controller="auth" asp-action="logout">Logout</a>
                            </div>
                            </div>
                        }





<a asp-controller="order" asp-action="checkout" class="widget-header mr-3 text-white">
<div class="icon d-flex align-items-center">
<i class="feather-shopping-cart h6 mr-2 mb-0"></i> <span>Cart</span>
</div>
</a>
<a class="toggle" href="#">
<span></span>
</a>
</div>

</div>

</div>

</div>

</section>

</header>

@section Scripts{
    <script type="11efad072887e2e154cdf8b5-text/javascript" src="~/js/gmap.js"></script>

    <script>
    $(document).ready(function() {
        let searchData = $("#headerSearch");

        $("#input-search").keyup(function () {
       
            let value = $(this).val();
            $("#searchDataList li").slice(1).remove();

            axios.get('/home/SerachProduct?search=' + value)
                .then(function (response) {

                    let datas = response.request.response;
                    searchData.append(datas);
                })
                .catch(function (error) {
                    // handle error
                    console.log(error);
                });
        
        });


    })
    </script>
}